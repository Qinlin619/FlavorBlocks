<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>寻味方块 | Flavor Blocks</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;600&family=Zpix&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app">
        <!-- 更加高级的开始界面 -->
        <div id="start-screen" class="overlay">
            <div class="lang-switch">
                <button id="langBtn" class="premium-btn secondary small">EN / 中</button>
            </div>
            <div class="hero-content">
                <div class="hero-subtitle">FINE PIXEL DINING</div>
                <h1 id="main-title" class="hero-title">寻味方块</h1>
                <div class="hero-line"></div>
                <button id="playBtn" class="play-trigger">
                    <span class="btn-text">OPEN MENU</span>
                    <span class="btn-sub">开启赏味之旅</span>
                </button>
                <div id="producer-credit" class="hero-credits">PRODUCER: 伞伞</div>
            </div>
            <div class="hero-bg-accent"></div>
        </div>

        <!-- 关卡/难度选择 (左右滑动的卡片式菜单) -->
        <div id="level-screen" class="overlay hidden">
            <div class="menu-container">
                <header class="menu-top-header">
                    <h2 id="level-select-title">MENU</h2>
                    <div class="menu-description">Select a regional flavor to start your dining experience.</div>
                </header>

                <div class="carousel-wrapper">
                    <button id="prevBtn" class="nav-btn prev">←</button>
                    <div class="flavor-carousel">
                        <!-- 亚洲风味卡片 -->
                        <div class="flavor-card" data-region="asia">
                            <div class="card-header">
                                <span class="card-num">01</span>
                                <h3>ASIA / 亚洲风味</h3>
                            </div>
                            <div class="card-footer">
                                <span class="explore-text">EXPLORE DISHES</span>
                            </div>
                        </div>

                        <!-- 欧陆风情卡片 -->
                        <div class="flavor-card" data-region="europe">
                            <div class="card-header">
                                <span class="card-num">02</span>
                                <h3>EUROPE / 欧陆风情</h3>
                            </div>
                            <div class="card-footer">
                                <span class="explore-text">EXPLORE DISHES</span>
                            </div>
                        </div>

                        <!-- 美洲经典卡片 -->
                        <div class="flavor-card" data-region="americas">
                            <div class="card-header">
                                <span class="card-num">03</span>
                                <h3>AMERICAS / 美洲经典</h3>
                            </div>
                            <div class="card-footer">
                                <span class="explore-text">EXPLORE DISHES</span>
                            </div>
                        </div>

                        <!-- 非洲草原卡片 -->
                        <div class="flavor-card" data-region="africa">
                            <div class="card-header">
                                <span class="card-num">04</span>
                                <h3>AFRICA / 非洲风情</h3>
                            </div>
                            <div class="card-footer">
                                <span class="explore-text">EXPLORE DISHES</span>
                            </div>
                        </div>

                        <!-- 大洋洲岛屿卡片 -->
                        <div class="flavor-card" data-region="oceania">
                            <div class="card-header">
                                <span class="card-num">05</span>
                                <h3>OCEANIA / 大洋洲味道</h3>
                            </div>
                            <div class="card-footer">
                                <span class="explore-text">EXPLORE DISHES</span>
                            </div>
                        </div>
                    </div>
                    <button id="nextCarouselBtn" class="nav-btn next">→</button>
                </div>

                <button id="backToMenu" class="menu-back-btn">RETURN TO FRONT</button>
            </div>
        </div>

        <!-- 具体的菜品选择界面 (子界面) -->
        <div id="dish-screen" class="overlay hidden">
            <div class="menu-container dish-selection-container">
                <header class="menu-top-header">
                    <div class="header-titles">
                        <span id="sub-menu-region" class="region-pill">REGION</span>
                        <h2 id="sub-menu-title">SELECT DISH</h2>
                    </div>
                </header>
                <div id="dish-list" class="dish-list-container">
                    <!-- JS 动态填充 -->
                </div>
                <button id="backToCarousel" class="menu-back-btn">← BACK TO MENU</button>
            </div>
        </div>

        <!-- 游戏界面 -->
        <div id="game-ui" class="hidden">
            <header>
                <div class="header-left">
                    <button id="homeBtn" class="icon-btn">←</button>
                    <h1 id="game-ui-title" class="small-title">寻味方块</h1>
                </div>
                <div class="stats">
                    <span id="label-progress" class="label">PROGRESS</span>
                    <span id="progress" class="value">0%</span>
                </div>
            </header>

            <main id="game-container">
                <div class="story-wrapper">
                    <p id="story-text" class="story-text"></p>
                </div>
                <div class="canvas-wrapper">
                    <canvas id="gameCanvas"></canvas>
                </div>

                <div class="bottom-controls">
                    <button id="hintBtn" class="premium-btn secondary">重新打乱</button>
                </div>
            </main>
        </div>

        <!-- 获胜弹窗 -->
        <div id="win-overlay" class="overlay hidden">
            <div class="win-content">
                <div class="win-preview-container">
                    <canvas id="win-preview-canvas" width="200" height="200"
                        style="image-rendering: pixelated;"></canvas>
                    <h2 id="win-title">DISH READY!</h2>
                </div>
                <p id="win-desc">Everything in its right place.</p>
                <div class="win-actions">
                    <button id="toLevelBtn" class="win-icon-btn" title="MENU">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                        <span class="win-btn-label">菜单</span>
                    </button>
                    <button id="restartWinBtn" class="win-icon-btn" title="RESTART">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                            <polyline points="3 3 3 8 8 8"></polyline>
                        </svg>
                        <span class="win-btn-label">重做</span>
                    </button>
                    <button id="nextBtn" class="win-icon-btn" title="NEXT DISH">
                        <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="6 4 20 12 6 20"></polygon>
                        </svg>
                        <span class="win-btn-label">下一道菜</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>

</html>